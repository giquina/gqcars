(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{3372:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var n=r(83065),i=r(71623),o=r(61688),a=r(69717),s=r.n(a),u=r(87513),c=r(49904),h=["global","local","others"],f=r(21338),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},d=function(){function e(t){var r=t.url,n=void 0===r?"":r,o=t.headers,a=void 0===o?{}:o,s=t.fetch;(0,i.Z)(this,e),this.url=n,this.headers=a,this.fetch=(0,c.eM)(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}return(0,o.Z)(e,[{key:"signOut",value:function(){var e=(0,n.Z)(s().mark((function e(t){var r,n=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:h[0],!(h.indexOf(r)<0)){e.next=3;break}throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(h.join(", ")));case 3:return e.prev=3,e.next=6,(0,u.cY)(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(r),{headers:this.headers,jwt:t,noResolveJson:!0});case 6:return e.abrupt("return",{data:null,error:null});case 9:if(e.prev=9,e.t0=e.catch(3),!(0,f.f1)(e.t0)){e.next=13;break}return e.abrupt("return",{data:null,error:e.t0});case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"inviteUserByEmail",value:function(){var e=(0,n.Z)(s().mark((function e(t){var r,n=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.prev=1,e.next=4,(0,u.cY)(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:u.Br});case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(0,f.f1)(e.t0)){e.next=11;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"generateLink",value:function(){var e=(0,n.Z)(s().mark((function e(t){var r,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.options,n=l(t,["options"]),i=Object.assign(Object.assign({},n),r),"newEmail"in n&&(i.new_email=null===n||void 0===n?void 0:n.newEmail,delete i.newEmail),e.next=6,(0,u.cY)(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:i,headers:this.headers,xform:u.lp,redirectTo:null===r||void 0===r?void 0:r.redirectTo});case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(0),!(0,f.f1)(e.t0)){e.next=13;break}return e.abrupt("return",{data:{properties:null,user:null},error:e.t0});case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,u.cY)(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:t,headers:this.headers,xform:u.Br});case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!(0,f.f1)(e.t0)){e.next=10;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 10:throw e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"listUsers",value:function(){var e=(0,n.Z)(s().mark((function e(t){var r,n,i,o,a,c,h,l,d,p,v,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l={nextPage:null,lastPage:0,total:0},e.next=4,(0,u.cY)(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(r=null===t||void 0===t?void 0:t.page)||void 0===r?void 0:r.toString())&&void 0!==n?n:"",per_page:null!==(o=null===(i=null===t||void 0===t?void 0:t.perPage)||void 0===i?void 0:i.toString())&&void 0!==o?o:""},xform:u.Dy});case 4:if(!(d=e.sent).error){e.next=7;break}throw d.error;case 7:return e.next=9,d.json();case 9:return p=e.sent,v=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,(y=null!==(h=null===(c=d.headers.get("link"))||void 0===c?void 0:c.split(","))&&void 0!==h?h:[]).length>0&&(y.forEach((function(e){var t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t})),l.total=parseInt(v)),e.abrupt("return",{data:Object.assign(Object.assign({},p),l),error:null});case 16:if(e.prev=16,e.t0=e.catch(0),!(0,f.f1)(e.t0)){e.next=20;break}return e.abrupt("return",{data:{users:[]},error:e.t0});case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserById",value:function(){var e=(0,n.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.ni)(t),e.prev=1,e.next=4,(0,u.cY)(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(t),{headers:this.headers,xform:u.Br});case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(0,f.f1)(e.t0)){e.next=11;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserById",value:function(){var e=(0,n.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.ni)(t),e.prev=1,e.next=4,(0,u.cY)(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(t),{body:r,headers:this.headers,xform:u.Br});case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(0,f.f1)(e.t0)){e.next=11;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=(0,n.Z)(s().mark((function e(t){var r,n=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]&&n[1],(0,c.ni)(t),e.prev=2,e.next=5,(0,u.cY)(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(t),{headers:this.headers,body:{should_soft_delete:r},xform:u.Br});case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),!(0,f.f1)(e.t0)){e.next=12;break}return e.abrupt("return",{data:{user:null},error:e.t0});case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_listFactors",value:function(){var e=(0,n.Z)(s().mark((function e(t){var r,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.ni)(t.userId),e.prev=1,e.next=4,(0,u.cY)(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(t.userId,"/factors"),{headers:this.headers,xform:function(e){return{data:{factors:e},error:null}}});case 4:return r=e.sent,n=r.data,i=r.error,e.abrupt("return",{data:n,error:i});case 10:if(e.prev=10,e.t0=e.catch(1),!(0,f.f1)(e.t0)){e.next=14;break}return e.abrupt("return",{data:null,error:e.t0});case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,this,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_deleteFactor",value:function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.ni)(t.userId),(0,c.ni)(t.id),e.prev=2,e.next=5,(0,u.cY)(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(t.userId,"/factors/").concat(t.id),{headers:this.headers});case 5:return r=e.sent,e.abrupt("return",{data:r,error:null});case 9:if(e.prev=9,e.t0=e.catch(2),!(0,f.f1)(e.t0)){e.next=13;break}return e.abrupt("return",{data:null,error:e.t0});case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},79116:function(e,t,r){"use strict";r.d(t,{Tx:function(){return u},WU:function(){return f},rB:function(){return d},sy:function(){return l}});var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i=" \t\n\r=".split(""),o=function(){for(var e=new Array(128),t=0;t<e.length;t+=1)e[t]=-1;for(var r=0;r<i.length;r+=1)e[i[r].charCodeAt(0)]=-2;for(var o=0;o<n.length;o+=1)e[n[o].charCodeAt(0)]=o;return e}();function a(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){var i=t.queue>>t.queuedBits-6&63;r(n[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){var o=t.queue>>t.queuedBits-6&63;r(n[o]),t.queuedBits-=6}}function s(e,t,r){var n=o[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function u(e){for(var t=[],r=function(e){t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=function(e){!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(var n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)},a=0;a<e.length;a+=1)s(e.charCodeAt(a),i,o);return t.join("")}function c(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function h(e,t){for(var r=0;r<e.length;r+=1){var n=e.charCodeAt(r);if(n>55295&&n<=56319){var i=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|i),r+=1}c(n,t)}}function f(e){for(var t=[],r={queue:0,queuedBits:0},n=function(e){t.push(e)},i=0;i<e.length;i+=1)s(e.charCodeAt(i),r,n);return new Uint8Array(t)}function l(e){var t=[];return h(e,(function(e){return t.push(e)})),new Uint8Array(t)}function d(e){var t=[],r={queue:0,queuedBits:0},n=function(e){t.push(e)};return e.forEach((function(e){return a(e,r,n)})),a(null,r,n),t.join("")}},66456:function(e,t,r){"use strict";r.d(t,{F9:function(){return f},G1:function(){return s},HU:function(){return l},Js:function(){return o},Kd:function(){return d},QN:function(){return c},Uf:function(){return u},Uj:function(){return a},r6:function(){return i},wA:function(){return h}});var n=r(90511),i=3e4,o=3,a=o*i,s="http://localhost:9999",u="supabase.auth.token",c={"X-Client-Info":"gotrue-js/".concat(n.i)},h="X-Supabase-Api-Version",f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},l=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,d=6e5},21338:function(e,t,r){"use strict";r.d(t,{AO:function(){return _},GF:function(){return v},Iu:function(){return d},LI:function(){return b},MZ:function(){return E},Po:function(){return k},Tw:function(){return l},UQ:function(){return j},Ws:function(){return f},eV:function(){return g},e_:function(){return m},f1:function(){return h},t:function(){return y},wo:function(){return w},y4:function(){return x}});var n=r(61688),i=r(71623),o=r(95069),a=r(22794),s=r(75235);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.Z)(this,r)}}var c=function(e){(0,o.Z)(r,e);var t=u(r);function r(e,n,o){var a;return(0,i.Z)(this,r),(a=t.call(this,e)).__isAuthError=!0,a.name="AuthError",a.status=n,a.code=o,a}return(0,n.Z)(r)}((0,r(7965).Z)(Error));function h(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}var f=function(e){(0,o.Z)(r,e);var t=u(r);function r(e,n,o){var a;return(0,i.Z)(this,r),(a=t.call(this,e,n,o)).name="AuthApiError",a.status=n,a.code=o,a}return(0,n.Z)(r)}(c);function l(e){return h(e)&&"AuthApiError"===e.name}var d=function(e){(0,o.Z)(r,e);var t=u(r);function r(e,n){var o;return(0,i.Z)(this,r),(o=t.call(this,e)).name="AuthUnknownError",o.originalError=n,o}return(0,n.Z)(r)}(c),p=function(e){(0,o.Z)(r,e);var t=u(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this,e,o,a)).name=n,s.status=o,s}return(0,n.Z)(r)}(c),v=function(e){(0,o.Z)(r,e);var t=u(r);function r(){return(0,i.Z)(this,r),t.call(this,"Auth session missing!","AuthSessionMissingError",400,void 0)}return(0,n.Z)(r)}(p);function y(e){return h(e)&&"AuthSessionMissingError"===e.name}var g=function(e){(0,o.Z)(r,e);var t=u(r);function r(){return(0,i.Z)(this,r),t.call(this,"Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}return(0,n.Z)(r)}(p),m=function(e){(0,o.Z)(r,e);var t=u(r);function r(e){return(0,i.Z)(this,r),t.call(this,e,"AuthInvalidCredentialsError",400,void 0)}return(0,n.Z)(r)}(p),b=function(e){(0,o.Z)(r,e);var t=u(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.Z)(this,r),(n=t.call(this,e,"AuthImplicitGrantRedirectError",500,void 0)).details=null,n.details=o,n}return(0,n.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}]),r}(p);function w(e){return h(e)&&"AuthImplicitGrantRedirectError"===e.name}var k=function(e){(0,o.Z)(r,e);var t=u(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,i.Z)(this,r),(n=t.call(this,e,"AuthPKCEGrantCodeExchangeError",500,void 0)).details=null,n.details=o,n}return(0,n.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}]),r}(p),x=function(e){(0,o.Z)(r,e);var t=u(r);function r(e,n){return(0,i.Z)(this,r),t.call(this,e,"AuthRetryableFetchError",n,void 0)}return(0,n.Z)(r)}(p);function _(e){return h(e)&&"AuthRetryableFetchError"===e.name}var E=function(e){(0,o.Z)(r,e);var t=u(r);function r(e,n,o){var a;return(0,i.Z)(this,r),(a=t.call(this,e,"AuthWeakPasswordError",n,"weak_password")).reasons=o,a}return(0,n.Z)(r)}(p);var j=function(e){(0,o.Z)(r,e);var t=u(r);function r(e){return(0,i.Z)(this,r),t.call(this,e,"AuthInvalidJwtError",400,"invalid_jwt")}return(0,n.Z)(r)}(p)},87513:function(e,t,r){"use strict";r.d(t,{Br:function(){return k},Dy:function(){return E},E_:function(){return x},cY:function(){return v},jv:function(){return w},lp:function(){return _},vI:function(){return b}});var n=r(83065),i=r(69717),o=r.n(i),a=r(66456),s=r(49904),u=r(21338),c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},h=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},f=[502,503,504];function l(e){return d.apply(this,arguments)}function d(){return(d=(0,n.Z)(o().mark((function e(t){var r,n,i,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,s.Qw)(t)){e.next=2;break}throw new u.y4(h(t),0);case 2:if(!f.includes(t.status)){e.next=4;break}throw new u.y4(h(t),t.status);case 4:return e.prev=4,e.next=7,t.json();case 7:n=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new u.Iu(h(e.t0),e.t0);case 13:if(i=void 0,(c=(0,s.xe)(t))&&c.getTime()>=a.F9["2024-01-01"].timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?i=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(i=n.error_code),i){e.next=21;break}if(!("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((function(e,t){return e&&"string"===typeof t}),!0))){e.next=19;break}throw new u.MZ(h(n),t.status,n.weak_password.reasons);case 19:e.next=27;break;case 21:if("weak_password"!==i){e.next=25;break}throw new u.MZ(h(n),t.status,(null===(r=n.weak_password)||void 0===r?void 0:r.reasons)||[]);case 25:if("session_not_found"!==i){e.next=27;break}throw new u.GF;case 27:throw new u.Ws(h(n),t.status||500,i);case 28:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}var p=function(e,t,r,n){var i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};function v(e,t,r,n){return y.apply(this,arguments)}function y(){return(y=(0,n.Z)(o().mark((function e(t,r,n,i){var s,u,c,h,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(u=Object.assign({},null===i||void 0===i?void 0:i.headers))[a.wA]||(u[a.wA]=a.F9["2024-01-01"].name),(null===i||void 0===i?void 0:i.jwt)&&(u.Authorization="Bearer ".concat(i.jwt)),c=null!==(s=null===i||void 0===i?void 0:i.query)&&void 0!==s?s:{},(null===i||void 0===i?void 0:i.redirectTo)&&(c.redirect_to=i.redirectTo),h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",e.next=8,g(t,r,n+h,{headers:u,noResolveJson:null===i||void 0===i?void 0:i.noResolveJson},{},null===i||void 0===i?void 0:i.body);case 8:return f=e.sent,e.abrupt("return",(null===i||void 0===i?void 0:i.xform)?null===i||void 0===i?void 0:i.xform(f):{data:Object.assign({},f),error:null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,r,n,i,o){return m.apply(this,arguments)}function m(){return(m=(0,n.Z)(o().mark((function e(t,r,n,i,a,s){var c,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=p(r,i,a,s),e.prev=1,e.next=4,t(n,Object.assign({},c));case 4:f=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.error(e.t0),new u.y4(h(e.t0),0);case 11:if(f.ok){e.next=14;break}return e.next=14,l(f);case 14:if(!(null===i||void 0===i?void 0:i.noResolveJson)){e.next=16;break}return e.abrupt("return",f);case 16:return e.prev=16,e.next=19,f.json();case 19:return e.abrupt("return",e.sent);case 22:return e.prev=22,e.t1=e.catch(16),e.next=26,l(e.t1);case 26:case"end":return e.stop()}}),e,null,[[1,7],[16,22]])})))).apply(this,arguments)}function b(e){var t,r=null;return function(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(0,s.Fq)(e.expires_in))),{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function w(e){var t=b(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((function(e,t){return e&&"string"===typeof t}),!0)&&(t.data.weak_password=e.weak_password),t}function k(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function x(e){return{data:e,error:null}}function _(e){var t=e.action_link,r=e.email_otp,n=e.hashed_token,i=e.redirect_to,o=e.verification_type,a=c(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},user:Object.assign({},a)},error:null}}function E(e){return e}},49904:function(e,t,r){"use strict";r.d(t,{BH:function(){return x},Dc:function(){return w},Fq:function(){return f},Qw:function(){return m},RZ:function(){return I},Rd:function(){return T},Sv:function(){return k},Vj:function(){return l},Z2:function(){return M},__:function(){return B},_v:function(){return E},eM:function(){return g},eg:function(){return b},jU:function(){return d},ni:function(){return D},o9:function(){return y},xe:function(){return L},xp:function(){return _},y1:function(){return v}});var n=r(61688),i=r(71623),o=r(83065),a=r(69717),s=r.n(a),u=r(66456),c=r(21338),h=r(79116);function f(e){return Math.round(Date.now()/1e3)+e}function l(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))}var d=function(){return"undefined"!==typeof document},p={tested:!1,writable:!1},v=function(){if(!d())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(p.tested)return p.writable;var e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),p.tested=!0,p.writable=!0}catch(t){p.tested=!0,p.writable=!1}return p.writable};function y(e){var t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((function(e,r){t[r]=e}))}catch(n){}return r.searchParams.forEach((function(e,r){t[r]=e})),t}var g=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,50548)).then((function(e){return e.default.apply(void 0,t)}))}:fetch),function(){return t.apply(void 0,arguments)}},m=function(e){return"object"===typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"===typeof e.json},b=function(){var e=(0,o.Z)(s().mark((function e(t,r,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.setItem(r,JSON.stringify(n));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.Z)(s().mark((function e(t,r){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getItem(r);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.prev=5,e.abrupt("return",JSON.parse(n));case 9:return e.prev=9,e.t0=e.catch(5),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[5,9]])})));return function(t,r){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.Z)(s().mark((function e(t,r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.removeItem(r);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),x=(0,n.Z)((function e(){var t=this;(0,i.Z)(this,e),this.promise=new e.promiseConstructor((function(e,r){t.resolve=e,t.reject=r}))}));function _(e){var t=e.split(".");if(3!==t.length)throw new c.UQ("Invalid JWT structure");for(var r=0;r<t.length;r++)if(!u.HU.test(t[r]))throw new c.UQ("JWT not in base64url format");return{header:JSON.parse((0,h.Tx)(t[0])),payload:JSON.parse((0,h.Tx)(t[1])),signature:(0,h.WU)(t[2]),raw:{header:t[0],payload:t[1]}}}function E(e){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout((function(){return e(null)}),t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return new Promise((function(r,n){(0,o.Z)(s().mark((function i(){var o,a;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=0;case 1:if(!(o<1/0)){i.next=19;break}return i.prev=2,i.next=5,e(o);case 5:if(a=i.sent,t(o,null,a)){i.next=9;break}return r(a),i.abrupt("return");case 9:i.next=16;break;case 11:if(i.prev=11,i.t0=i.catch(2),t(o,i.t0)){i.next=16;break}return n(i.t0),i.abrupt("return");case 16:o++,i.next=1;break;case 19:case"end":return i.stop()}}),i,null,[[2,11]])})))()}))}function O(e){return("0"+e.toString(16)).substr(-2)}function A(){var e=new Uint32Array(56);if("undefined"===typeof crypto){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r="",n=0;n<56;n++)r+=t.charAt(Math.floor(66*Math.random()));return r}return crypto.getRandomValues(e),Array.from(e,O).join("")}function P(e){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)(s().mark((function e(t){var r,n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TextEncoder,n=r.encode(t),e.next=4,crypto.subtle.digest("SHA-256",n);case 4:return i=e.sent,o=new Uint8Array(i),e.abrupt("return",Array.from(o).map((function(e){return String.fromCharCode(e)})).join(""));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder){e.next=4;break}return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e.abrupt("return",t);case 4:return e.next=6,P(t);case 6:return r=e.sent,e.abrupt("return",btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return U.apply(this,arguments)}function U(){return U=(0,o.Z)(s().mark((function e(t,r){var n,i,o,a,u,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]&&c[2],i=A(),o=i,n&&(o+="/PASSWORD_RECOVERY"),e.next=6,b(t,"".concat(r,"-code-verifier"),o);case 6:return e.next=8,R(i);case 8:return a=e.sent,u=i===a?"plain":"s256",e.abrupt("return",[a,u]);case 11:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}x.promiseConstructor=Promise;var Z=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L(e){var t=e.headers.get(u.wA);if(!t)return null;if(!t.match(Z))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(r){return null}}function I(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}function M(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var N=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function D(e){if(!N.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}},12061:function(e,t,r){"use strict";r.d(t,{N:function(){return i},_:function(){return o}});var n=r(49904),i={getItem:function(e){return(0,n.y1)()?globalThis.localStorage.getItem(e):null},setItem:function(e,t){(0,n.y1)()&&globalThis.localStorage.setItem(e,t)},removeItem:function(e){(0,n.y1)()&&globalThis.localStorage.removeItem(e)}};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:function(t){return e[t]||null},setItem:function(t,r){e[t]=r},removeItem:function(t){delete e[t]}}}},29019:function(e,t,r){"use strict";r.d(t,{aC:function(){return g},mL:function(){return v}});var n=r(83065),i=r(61688),o=r(71623),a=r(95069),s=r(22794),u=r(75235),c=r(7965),h=r(69717),f=r.n(h),l=r(49904);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.Z)(e);if(t){var i=(0,u.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,s.Z)(this,r)}}var p={debug:!!(globalThis&&(0,l.y1)()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))},v=function(e){(0,a.Z)(r,e);var t=d(r);function r(e){var n;return(0,o.Z)(this,r),(n=t.call(this,e)).isAcquireTimeout=!0,n}return(0,i.Z)(r)}((0,c.Z)(Error)),y=function(e){(0,a.Z)(r,e);var t=d(r);function r(){return(0,o.Z)(this,r),t.apply(this,arguments)}return(0,i.Z)(r)}(v);function g(e,t,r){return m.apply(this,arguments)}function m(){return m=(0,n.Z)(f().mark((function e(t,r,i){var o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r),o=new globalThis.AbortController,r>0&&setTimeout((function(){o.abort(),p.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)}),r),e.next=5,Promise.resolve().then((function(){return globalThis.navigator.locks.request(t,0===r?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},function(){var e=(0,n.Z)(f().mark((function e(n){var o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=11;break}return p.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name),e.prev=2,e.next=5,i();case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,p.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name),e.finish(6);case 9:e.next=31;break;case 11:if(0!==r){e.next=16;break}throw p.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new y('Acquiring an exclusive Navigator LockManager lock "'.concat(t,'" immediately failed'));case 16:if(!p.debug){e.next=27;break}return e.prev=17,e.next=20,globalThis.navigator.locks.query();case 20:o=e.sent,console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  ")),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(17),console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e.t0);case 27:return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),e.next=30,i();case 30:return e.abrupt("return",e.sent);case 31:case"end":return e.stop()}}),e,null,[[2,,6,9],[17,24]])})));return function(t){return e.apply(this,arguments)}}())}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}},88626:function(e,t,r){"use strict";function n(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}r.d(t,{Y:function(){return n}})},90511:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});var n="2.70.0"},50548:function(e,t,r){"use strict";r.r(t),r.d(t,{Headers:function(){return o},Request:function(){return a},Response:function(){return s},fetch:function(){return i}});var n="undefined"!==typeof self?self:window,i=n.fetch;t.default=n.fetch.bind(n);var o=n.Headers,a=n.Request,s=n.Response},53458:function(e,t,r){"use strict";var n=r(69717),i=r(53974),o=r(64066),a=r(60064),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=s(r(50548)),c=s(r(62147)),h=function(){function e(t){o(this,e),this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:"undefined"===typeof fetch?this.fetch=u.default:this.fetch=fetch}return a(e,[{key:"throwOnError",value:function(){return this.shouldThrowOnError=!0,this}},{key:"setHeader",value:function(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}},{key:"then",value:function(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");var o=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var e=i(n.mark((function e(t){var i,o,a,s,u,h,f,l,d,p,v,y,g;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null,u=null,h=null,f=t.status,l=t.statusText,!t.ok){e.next=17;break}if("HEAD"===r.method){e.next=11;break}return e.next=9,t.text();case 9:""===(d=e.sent)||(u="text/csv"===r.headers.Accept||r.headers.Accept&&r.headers.Accept.includes("application/vnd.pgrst.plan+text")?d:JSON.parse(d));case 11:p=null===(i=r.headers.Prefer)||void 0===i?void 0:i.match(/count=(exact|planned|estimated)/),v=null===(o=t.headers.get("content-range"))||void 0===o?void 0:o.split("/"),p&&v&&v.length>1&&(h=parseInt(v[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(u)&&(u.length>1?(s={code:"PGRST116",details:"Results contain ".concat(u.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,l="Not Acceptable"):u=1===u.length?u[0]:null),e.next=24;break;case 17:return e.next=19,t.text();case 19:y=e.sent;try{s=JSON.parse(y),Array.isArray(s)&&404===t.status&&(u=[],s=null,f=200,l="OK")}catch(n){404===t.status&&""===y?(f=204,l="No Content"):s={message:y}}if(s&&r.isMaybeSingle&&(null===(a=null===s||void 0===s?void 0:s.details)||void 0===a?void 0:a.includes("0 rows"))&&(s=null,f=200,l="OK"),!s||!r.shouldThrowOnError){e.next=24;break}throw new c.default(s);case 24:return g={error:s,data:u,count:h,status:f,statusText:l},e.abrupt("return",g);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return this.shouldThrowOnError||(o=o.catch((function(e){var t,r,n;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:"")},data:null,count:null,status:0,statusText:""}}))),o.then(e,t)}},{key:"returns",value:function(){return this}},{key:"overrideTypes",value:function(){return this}}]),e}();t.default=h},82576:function(e,t,r){"use strict";var n=r(71971),i=r(64066),o=r(60064),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(38264)),u=a(r(78395)),c=r(51947),h=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.headers,o=void 0===n?{}:n,a=r.schema,s=r.fetch;i(this,e),this.url=t,this.headers=Object.assign(Object.assign({},c.DEFAULT_HEADERS),o),this.schemaName=a,this.fetch=s}return o(e,[{key:"from",value:function(e){var t=new URL("".concat(this.url,"/").concat(e));return new s.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}},{key:"schema",value:function(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}},{key:"rpc",value:function(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.head,s=void 0!==a&&a,c=o.get,h=void 0!==c&&c,f=o.count,l=new URL("".concat(this.url,"/rpc/").concat(e));s||h?(t=s?"HEAD":"GET",Object.entries(i).filter((function(e){var t=n(e,2);t[0];return void 0!==t[1]})).map((function(e){var t=n(e,2),r=t[0],i=t[1];return[r,Array.isArray(i)?"{".concat(i.join(","),"}"):"".concat(i)]})).forEach((function(e){var t=n(e,2),r=t[0],i=t[1];l.searchParams.append(r,i)}))):(t="POST",r=i);var d=Object.assign({},this.headers);return f&&(d.Prefer="count=".concat(f)),new u.default({method:t,url:l,headers:d,schema:this.schemaName,body:r,fetch:this.fetch,allowEmpty:!1})}}]),e}();t.default=h},62147:function(e,t,r){"use strict";var n=r(60064),i=r(64066),o=r(21945),a=r(42899),s=r(48235),u=r(55479);function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){o(r,e);var t=c(r);function r(e){var n;return i(this,r),(n=t.call(this,e.message)).name="PostgrestError",n.details=e.details,n.hint=e.hint,n.code=e.code,n}return n(r)}(u(Error));t.default=h},78395:function(e,t,r){"use strict";var n=r(71971),i=r(64066),o=r(60064),a=r(21945),s=r(42899),u=r(48235);function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var i=u(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return s(this,r)}}var h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){a(r,e);var t=c(r);function r(){return i(this,r),t.apply(this,arguments)}return o(r,[{key:"eq",value:function(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}},{key:"neq",value:function(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}},{key:"gt",value:function(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}},{key:"gte",value:function(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}},{key:"lt",value:function(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}},{key:"lte",value:function(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}},{key:"like",value:function(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}},{key:"likeAllOf",value:function(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}},{key:"likeAnyOf",value:function(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}},{key:"ilike",value:function(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}},{key:"ilikeAllOf",value:function(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}},{key:"ilikeAnyOf",value:function(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}},{key:"is",value:function(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}},{key:"in",value:function(e,t){var r=Array.from(new Set(t)).map((function(e){return"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e)})).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}},{key:"contains",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}},{key:"containedBy",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}},{key:"rangeGt",value:function(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}},{key:"rangeGte",value:function(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}},{key:"rangeLt",value:function(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}},{key:"rangeLte",value:function(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}},{key:"rangeAdjacent",value:function(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}},{key:"overlaps",value:function(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}},{key:"textSearch",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.config,i=r.type,o="";"plain"===i?o="pl":"phrase"===i?o="ph":"websearch"===i&&(o="w");var a=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(o,"fts").concat(a,".").concat(t)),this}},{key:"match",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var r=n(e,2),i=r[0],o=r[1];t.url.searchParams.append(i,"eq.".concat(o))})),this}},{key:"not",value:function(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}},{key:"or",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n=t.referencedTable,i=void 0===n?r:n,o=i?"".concat(i,".or"):"or";return this.url.searchParams.append(o,"(".concat(e,")")),this}},{key:"filter",value:function(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}]),r}(h(r(359)).default);t.default=f},38264:function(e,t,r){"use strict";var n=r(6887),i=r(64066),o=r(60064),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(r(78395)),u=function(){function e(t,r){var n=r.headers,o=void 0===n?{}:n,a=r.schema,s=r.fetch;i(this,e),this.url=t,this.headers=o,this.schema=a,this.fetch=s}return o(e,[{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.head,n=void 0!==r&&r,i=t.count,o=n?"HEAD":"GET",a=!1,u=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e)})).join("");return this.url.searchParams.set("select",u),i&&(this.headers.Prefer="count=".concat(i)),new s.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}},{key:"insert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.count,i=t.defaultToNull,o=void 0===i||i,a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push("count=".concat(r)),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){var u=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(u.length>0){var c=n(new Set(u)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",c.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}},{key:"upsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onConflict,i=t.ignoreDuplicates,o=void 0!==i&&i,a=t.count,u=t.defaultToNull,c=void 0===u||u,h=["resolution=".concat(o?"ignore":"merge","-duplicates")];if(void 0!==r&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&h.push(this.headers.Prefer),a&&h.push("count=".concat(a)),c||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(e)){var f=e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]);if(f.length>0){var l=n(new Set(f)).map((function(e){return'"'.concat(e,'"')}));this.url.searchParams.set("columns",l.join(","))}}return new s.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}},{key:"update",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).count,r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),this.headers.Prefer=r.join(","),new s.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}},{key:"delete",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).count,t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new s.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}]),e}();t.default=u},359:function(e,t,r){"use strict";var n=r(64066),i=r(60064),o=r(21945),a=r(42899),s=r(48235);function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var i=s(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return a(this,r)}}var c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=function(e){o(r,e);var t=u(r);function r(){return n(this,r),t.apply(this,arguments)}return i(r,[{key:"select",value:function(e){var t=!1,r=(null!==e&&void 0!==e?e:"*").split("").map((function(e){return/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)})).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}},{key:"order",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.ascending,n=void 0===r||r,i=t.nullsFirst,o=t.foreignTable,a=t.referencedTable,s=void 0===a?o:a,u=s?"".concat(s,".order"):"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,"".concat(c?"".concat(c,","):"").concat(e,".").concat(n?"asc":"desc").concat(void 0===i?"":i?".nullsfirst":".nullslast")),this}},{key:"limit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.foreignTable,n=t.referencedTable,i=void 0===n?r:n,o="undefined"===typeof i?"limit":"".concat(i,".limit");return this.url.searchParams.set(o,"".concat(e)),this}},{key:"range",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.foreignTable,i=r.referencedTable,o=void 0===i?n:i,a="undefined"===typeof o?"offset":"".concat(o,".offset"),s="undefined"===typeof o?"limit":"".concat(o,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}},{key:"abortSignal",value:function(e){return this.signal=e,this}},{key:"single",value:function(){return this.headers.Accept="application/vnd.pgrst.object+json",this}},{key:"maybeSingle",value:function(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}},{key:"csv",value:function(){return this.headers.Accept="text/csv",this}},{key:"geojson",value:function(){return this.headers.Accept="application/geo+json",this}},{key:"explain",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.analyze,n=void 0!==r&&r,i=t.verbose,o=void 0!==i&&i,a=t.settings,s=void 0!==a&&a,u=t.buffers,c=void 0!==u&&u,h=t.wal,f=void 0!==h&&h,l=t.format,d=void 0===l?"text":l,p=[n?"analyze":null,o?"verbose":null,s?"settings":null,c?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=null!==(e=this.headers.Accept)&&void 0!==e?e:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(d,'; for="').concat(v,'"; options=').concat(p,";"),this}},{key:"rollback",value:function(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}},{key:"returns",value:function(){return this}}]),r}(c(r(53458)).default);t.default=h},51947:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;var n=r(16126);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(n.version)}},17326:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;var i=n(r(82576));t.PostgrestClient=i.default;var o=n(r(38264));t.PostgrestQueryBuilder=o.default;var a=n(r(78395));t.PostgrestFilterBuilder=a.default;var s=n(r(359));t.PostgrestTransformBuilder=s.default;var u=n(r(53458));t.PostgrestBuilder=u.default;var c=n(r(62147));t.PostgrestError=c.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:o.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:u.default,PostgrestError:c.default}},16126:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},13879:function(e,t,r){"use strict";r.d(t,{eI:function(){return Fe}});var n=r(71623),i=r(61688),o=r(69717),a=r.n(o),s=r(95069),u=r(22794),c=r(75235),h=r(7965);function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var l,d=function(e){(0,s.Z)(r,e);var t=f(r);function r(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",a=arguments.length>2?arguments[2]:void 0;return(0,n.Z)(this,r),(i=t.call(this,e)).name=o,i.context=a,i}return(0,i.Z)(r)}((0,h.Z)(Error)),p=function(e){(0,s.Z)(r,e);var t=f(r);function r(e){return(0,n.Z)(this,r),t.call(this,"Failed to send a request to the Edge Function","FunctionsFetchError",e)}return(0,i.Z)(r)}(d),v=function(e){(0,s.Z)(r,e);var t=f(r);function r(e){return(0,n.Z)(this,r),t.call(this,"Relay Error invoking the Edge Function","FunctionsRelayError",e)}return(0,i.Z)(r)}(d),y=function(e){(0,s.Z)(r,e);var t=f(r);function r(e){return(0,n.Z)(this,r),t.call(this,"Edge Function returned a non-2xx status code","FunctionsHttpError",e)}return(0,i.Z)(r)}(d);!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(l||(l={}));var g=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},m=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.headers,a=void 0===o?{}:o,s=i.customFetch,u=i.region,c=void 0===u?l.Any:u;(0,n.Z)(this,e),this.url=t,this.headers=a,this.region=c,this.fetch=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,50548)).then((function(e){return e.default.apply(void 0,t)}))}:fetch),function(){return t.apply(void 0,arguments)}}(s)}return(0,i.Z)(e,[{key:"setAuth",value:function(e){this.headers.Authorization="Bearer ".concat(e)}},{key:"invoke",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return g(this,void 0,void 0,a().mark((function n(){var i,o,s,u,c,h,f,l,d,g;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=r.headers,o=r.method,s=r.body,u={},(c=r.region)||(c=this.region),c&&"any"!==c&&(u["x-region"]=c),s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=s):"string"===typeof s?(u["Content-Type"]="text/plain",h=s):"undefined"!==typeof FormData&&s instanceof FormData?h=s:(u["Content-Type"]="application/json",h=JSON.stringify(s))),n.next=9,this.fetch("".concat(this.url,"/").concat(e),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h}).catch((function(e){throw new p(e)}));case 9:if(f=n.sent,!(l=f.headers.get("x-relay-error"))||"true"!==l){n.next=13;break}throw new v(f);case 13:if(f.ok){n.next=15;break}throw new y(f);case 15:if("application/json"!==(d=(null!==(t=f.headers.get("Content-Type"))&&void 0!==t?t:"text/plain").split(";")[0].trim())){n.next=22;break}return n.next=19,f.json();case 19:g=n.sent,n.next=41;break;case 22:if("application/octet-stream"!==d){n.next=28;break}return n.next=25,f.blob();case 25:g=n.sent,n.next=41;break;case 28:if("text/event-stream"!==d){n.next=32;break}g=f,n.next=41;break;case 32:if("multipart/form-data"!==d){n.next=38;break}return n.next=35,f.formData();case 35:g=n.sent,n.next=41;break;case 38:return n.next=40,f.text();case 40:g=n.sent;case 41:return n.abrupt("return",{data:g,error:null});case 44:return n.prev=44,n.t0=n.catch(0),n.abrupt("return",{data:null,error:n.t0});case 47:case"end":return n.stop()}}),n,this,[[0,44]])})))}}]),e}(),b=r(17326),w=b.PostgrestClient,k=(b.PostgrestQueryBuilder,b.PostgrestFilterBuilder,b.PostgrestTransformBuilder,b.PostgrestBuilder,b.PostgrestError,r(83065));var x,_,E,j,T,O=function(){if("undefined"!==typeof WebSocket)return WebSocket;if("undefined"!==typeof global.WebSocket)return global.WebSocket;if("undefined"!==typeof window.WebSocket)return window.WebSocket;if("undefined"!==typeof self.WebSocket)return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}(),A="realtime-js/".concat("2.11.15");!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(x||(x={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(_||(_={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(E||(E={})),function(e){e.websocket="websocket"}(j||(j={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(T||(T={}));var P,S=function(){function e(){(0,n.Z)(this,e),this.HEADER_LENGTH=1}return(0,i.Z)(e,[{key:"decode",value:function(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}},{key:"_binaryDecode",value:function(e){var t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}},{key:"_decodeBroadcast",value:function(e,t,r){var n=t.getUint8(1),i=t.getUint8(2),o=this.HEADER_LENGTH+2,a=r.decode(e.slice(o,o+n));o+=n;var s=r.decode(e.slice(o,o+i));return o+=i,{ref:null,topic:a,event:s,payload:JSON.parse(r.decode(e.slice(o,e.byteLength)))}}}]),e}(),R=function(){function e(t,r){(0,n.Z)(this,e),this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}return(0,i.Z)(e,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout((function(){e.tries=e.tries+1,e.callback()}),this.timerCalc(this.tries+1))}}]),e}();!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(P||(P={}));var C,B=function(e,t){var r,n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce((function(r,i){return r[i]=U(i,e,t,n),r}),{})},U=function(e,t,r,n){var i=t.find((function(t){return t.name===e})),o=null===i||void 0===i?void 0:i.type,a=r[e];return o&&!n.includes(o)?Z(o,a):L(a)},Z=function(e,t){if("_"===e.charAt(0)){var r=e.slice(1,e.length);return D(t,r)}switch(e){case P.bool:return I(t);case P.float4:case P.float8:case P.int2:case P.int4:case P.int8:case P.numeric:case P.oid:return M(t);case P.json:case P.jsonb:return N(t);case P.timestamp:return q(t);case P.abstime:case P.date:case P.daterange:case P.int4range:case P.int8range:case P.money:case P.reltime:case P.text:case P.time:case P.timestamptz:case P.timetz:case P.tsrange:case P.tstzrange:default:return L(t)}},L=function(e){return e},I=function(e){switch(e){case"t":return!0;case"f":return!1;default:return e}},M=function(e){if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return e},N=function(e){if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},D=function(e,t){if("string"!==typeof e)return e;var r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){var i,o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch(a){i=o?o.split(","):[]}return i.map((function(e){return Z(t,e)}))}return e},q=function(e){return"string"===typeof e?e.replace(" ","T"):e},F=function(e){var t=e;return(t=(t=t.replace(/^ws/i,"http")).replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,"")).replace(/\/+$/,"")},J=function(){function e(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;(0,n.Z)(this,e),this.channel=t,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}return(0,i.Z)(e,[{key:"resend",value:function(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}},{key:"send",value:function(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}},{key:"updatePayload",value:function(e){this.payload=Object.assign(Object.assign({},this.payload),e)}},{key:"receive",value:function(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}},{key:"startTimeout",value:function(){var e=this;if(!this.timeoutTimer){this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(function(t){e._cancelRefEvent(),e._cancelTimeout(),e.receivedResp=t,e._matchReceive(t)})),this.timeoutTimer=setTimeout((function(){e.trigger("timeout",{})}),this.timeout)}}},{key:"trigger",value:function(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}},{key:"destroy",value:function(){this._cancelRefEvent(),this._cancelTimeout()}},{key:"_cancelRefEvent",value:function(){this.refEvent&&this.channel._off(this.refEvent,{})}},{key:"_cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}},{key:"_matchReceive",value:function(e){var t=e.status,r=e.response;this.recHooks.filter((function(e){return e.status===t})).forEach((function(e){return e.callback(r)}))}},{key:"_hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}}]),e}(),H=r(98713);!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(C||(C={}));var z,W,G,K=function(){function e(t,r){var i=this;(0,n.Z)(this,e),this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}};var o=(null===r||void 0===r?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},(function(t){var r=i.caller,n=r.onJoin,o=r.onLeave,a=r.onSync;i.joinRef=i.channel._joinRef(),i.state=e.syncState(i.state,t,n,o),i.pendingDiffs.forEach((function(t){i.state=e.syncDiff(i.state,t,n,o)})),i.pendingDiffs=[],a()})),this.channel._on(o.diff,{},(function(t){var r=i.caller,n=r.onJoin,o=r.onLeave,a=r.onSync;i.inPendingSyncState()?i.pendingDiffs.push(t):(i.state=e.syncDiff(i.state,t,n,o),a())})),this.onJoin((function(e,t,r){i.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave((function(e,t,r){i.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((function(){i.channel._trigger("presence",{event:"sync"})}))}return(0,i.Z)(e,[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}],[{key:"syncState",value:function(e,t,r,n){var i=this.cloneDeep(e),o=this.transformState(t),a={},s={};return this.map(i,(function(e,t){o[e]||(s[e]=t)})),this.map(o,(function(e,t){var r=i[e];if(r){var n=t.map((function(e){return e.presence_ref})),o=r.map((function(e){return e.presence_ref})),u=t.filter((function(e){return o.indexOf(e.presence_ref)<0})),c=r.filter((function(e){return n.indexOf(e.presence_ref)<0}));u.length>0&&(a[e]=u),c.length>0&&(s[e]=c)}else a[e]=t})),this.syncDiff(i,{joins:a,leaves:s},r,n)}},{key:"syncDiff",value:function(e,t,r,n){var i=this,o={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)},a=o.joins,s=o.leaves;return r||(r=function(){}),n||(n=function(){}),this.map(a,(function(t,n){var o,a=null!==(o=e[t])&&void 0!==o?o:[];if(e[t]=i.cloneDeep(n),a.length>0){var s,u=e[t].map((function(e){return e.presence_ref})),c=a.filter((function(e){return u.indexOf(e.presence_ref)<0}));(s=e[t]).unshift.apply(s,(0,H.Z)(c))}r(t,a,n)})),this.map(s,(function(t,r){var i=e[t];if(i){var o=r.map((function(e){return e.presence_ref}));i=i.filter((function(e){return o.indexOf(e.presence_ref)<0})),e[t]=i,n(t,i,r),0===i.length&&delete e[t]}})),e}},{key:"map",value:function(e,t){return Object.getOwnPropertyNames(e).map((function(r){return t(r,e[r])}))}},{key:"transformState",value:function(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((function(t,r){var n=e[r];return t[r]="metas"in n?n.metas.map((function(e){return e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e})):n,t}),{})}},{key:"cloneDeep",value:function(e){return JSON.parse(JSON.stringify(e))}}]),e}();!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(z||(z={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(W||(W={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(G||(G={}));var Y=function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},o=arguments.length>2?arguments[2]:void 0;(0,n.Z)(this,e),this.topic=t,this.params=i,this.socket=o,this.bindings={},this.state=_.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new J(this,E.join,this.params,this.timeout),this.rejoinTimer=new R((function(){return r._rejoinUntilConnected()}),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(function(){r.state=_.joined,r.rejoinTimer.reset(),r.pushBuffer.forEach((function(e){return e.send()})),r.pushBuffer=[]})),this._onClose((function(){r.rejoinTimer.reset(),r.socket.log("channel","close ".concat(r.topic," ").concat(r._joinRef())),r.state=_.closed,r.socket._remove(r)})),this._onError((function(e){r._isLeaving()||r._isClosed()||(r.socket.log("channel","error ".concat(r.topic),e),r.state=_.errored,r.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(function(){r._isJoining()&&(r.socket.log("channel","timeout ".concat(r.topic),r.joinPush.timeout),r.state=_.errored,r.rejoinTimer.scheduleTimeout())})),this._on(E.reply,{},(function(e,t){r._trigger(r._replyEventName(t),e)})),this.presence=new K(this),this.broadcastEndpointURL=F(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}return(0,i.Z)(e,[{key:"subscribe",value:function(e){var t,r,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;if(this.socket.isConnected()||this.socket.connect(),this.state==_.closed){var o=this.params.config,s=o.broadcast,u=o.presence,c=o.private;this._onError((function(t){return null===e||void 0===e?void 0:e(G.CHANNEL_ERROR,t)})),this._onClose((function(){return null===e||void 0===e?void 0:e(G.CLOSED)}));var h={},f={broadcast:s,presence:u,postgres_changes:null!==(r=null===(t=this.bindings.postgres_changes)||void 0===t?void 0:t.map((function(e){return e.filter})))&&void 0!==r?r:[],private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",function(){var t=(0,k.Z)(a().mark((function t(r){var i,o,s,u,c,h,f,l,d,p,v,y,g;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.postgres_changes,n.socket.setAuth(),void 0!==i){t.next=7;break}return null===e||void 0===e||e(G.SUBSCRIBED),t.abrupt("return");case 7:s=n.bindings.postgres_changes,u=null!==(o=null===s||void 0===s?void 0:s.length)&&void 0!==o?o:0,c=[],h=0;case 11:if(!(h<u)){t.next=26;break}if(f=s[h],l=f.filter,d=l.event,p=l.schema,v=l.table,y=l.filter,!(g=i&&i[h])||g.event!==d||g.schema!==p||g.table!==v||g.filter!==y){t.next=19;break}c.push(Object.assign(Object.assign({},f),{id:g.id})),t.next=23;break;case 19:return n.unsubscribe(),n.state=_.errored,null===e||void 0===e||e(G.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")),t.abrupt("return");case 23:h++,t.next=11;break;case 26:return n.bindings.postgres_changes=c,e&&e(G.SUBSCRIBED),t.abrupt("return");case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).receive("error",(function(t){n.state=_.errored,null===e||void 0===e||e(G.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(function(){null===e||void 0===e||e(G.TIMED_OUT)}))}return this}},{key:"presenceState",value:function(){return this.presence.state}},{key:"track",value:function(){var e=(0,k.Z)(a().mark((function e(t){var r,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"untrack",value:function(){var e=(0,k.Z)(a().mark((function e(){var t,r=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.next=3,this.send({type:"presence",event:"untrack"},t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"on",value:function(e,t,r){return this._on(e,t,r)}},{key:"send",value:function(){var e=(0,k.Z)(a().mark((function e(t){var r,n,i,o,s,u,c,h,f=this,l=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:{},this._canPush()||"broadcast"!==t.type){e.next=23;break}return o=t.event,s=t.payload,u=this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",c={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})},e.prev=5,e.next=8,this._fetchWithTimeout(this.broadcastEndpointURL,c,null!==(n=r.timeout)&&void 0!==n?n:this.timeout);case 8:return h=e.sent,e.next=11,null===(i=h.body)||void 0===i?void 0:i.cancel();case 11:return e.abrupt("return",h.ok?"ok":"error");case 14:if(e.prev=14,e.t0=e.catch(5),"AbortError"!==e.t0.name){e.next=20;break}return e.abrupt("return","timed out");case 20:return e.abrupt("return","error");case 21:e.next=24;break;case 23:return e.abrupt("return",new Promise((function(e){var n,i,o,a=f._push(t.type,t,r.timeout||f.timeout);"broadcast"!==t.type||(null===(o=null===(i=null===(n=f.params)||void 0===n?void 0:n.config)||void 0===i?void 0:i.broadcast)||void 0===o?void 0:o.ack)||e("ok"),a.receive("ok",(function(){return e("ok")})),a.receive("error",(function(){return e("error")})),a.receive("timeout",(function(){return e("timed out")}))})));case 24:case"end":return e.stop()}}),e,this,[[5,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateJoinPayload",value:function(e){this.joinPush.updatePayload(e)}},{key:"unsubscribe",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=_.leaving;var r=function(){e.socket.log("channel","leave ".concat(e.topic)),e._trigger(E.close,"leave",e._joinRef())};this.joinPush.destroy();var n=null;return new Promise((function(i){(n=new J(e,E.leave,{},t)).receive("ok",(function(){r(),i("ok")})).receive("timeout",(function(){r(),i("timed out")})).receive("error",(function(){i("error")})),n.send(),e._canPush()||n.trigger("ok",{})})).finally((function(){null===n||void 0===n||n.destroy()}))}},{key:"teardown",value:function(){this.pushBuffer.forEach((function(e){return e.destroy()})),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}},{key:"_fetchWithTimeout",value:function(){var e=(0,k.Z)(a().mark((function e(t,r,n){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new AbortController,o=setTimeout((function(){return i.abort()}),n),e.next=4,this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));case 4:return s=e.sent,clearTimeout(o),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"_push",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");var n=new J(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}},{key:"_onMessage",value:function(e,t,r){return t}},{key:"_isMember",value:function(e){return this.topic===e}},{key:"_joinRef",value:function(){return this.joinPush.ref}},{key:"_trigger",value:function(e,t,r){var n,i,o=this,a=e.toLocaleLowerCase(),s=E.close,u=E.error,c=E.leave,h=E.join;if(!(r&&[s,u,c,h].indexOf(a)>=0&&r!==this._joinRef())){var f=this._onMessage(a,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((function(e){var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===a})).map((function(e){return e.callback(f,r)})):null===(i=this.bindings[a])||void 0===i||i.filter((function(e){var r,n,i,o,s,u;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){var c=e.id,h=null===(r=e.filter)||void 0===r?void 0:r.event;return c&&(null===(n=t.ids)||void 0===n?void 0:n.includes(c))&&("*"===h||(null===h||void 0===h?void 0:h.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}var f=null===(s=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===s?void 0:s.toLocaleLowerCase();return"*"===f||f===(null===(u=null===t||void 0===t?void 0:t.event)||void 0===u?void 0:u.toLocaleLowerCase())}return e.type.toLocaleLowerCase()===a})).map((function(e){if("object"===typeof f&&"ids"in f){var t=f.data,n={schema:t.schema,table:t.table,commit_timestamp:t.commit_timestamp,eventType:t.type,new:{},old:{},errors:t.errors};f=Object.assign(Object.assign({},n),o._getPayloadRecords(t))}e.callback(f,r)}))}}},{key:"_isClosed",value:function(){return this.state===_.closed}},{key:"_isJoined",value:function(){return this.state===_.joined}},{key:"_isJoining",value:function(){return this.state===_.joining}},{key:"_isLeaving",value:function(){return this.state===_.leaving}},{key:"_replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"_on",value:function(e,t,r){var n=e.toLocaleLowerCase(),i={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}},{key:"_off",value:function(t,r){var n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((function(t){var i;return!((null===(i=t.type)||void 0===i?void 0:i.toLocaleLowerCase())===n&&e.isEqual(t.filter,r))})),this}},{key:"_rejoinUntilConnected",value:function(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}},{key:"_onClose",value:function(e){this._on(E.close,{},e)}},{key:"_onError",value:function(e){this._on(E.error,{},(function(t){return e(t)}))}},{key:"_canPush",value:function(){return this.socket.isConnected()&&this._isJoined()}},{key:"_rejoin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_.joining,this.joinPush.resend(e))}},{key:"_getPayloadRecords",value:function(e){var t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=B(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=B(e.columns,e.old_record)),t}}],[{key:"isEqual",value:function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}}]),e}(),V=function(){},Q=function(){function e(t,i){var o,s=this;(0,n.Z)(this,e),this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=V,this.ref=0,this.logger=V,this.conn=null,this.sendBuffer=[],this.serializer=new S,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,50548)).then((function(e){return e.default.apply(void 0,t)}))}:fetch),function(){return t.apply(void 0,arguments)}},this.endPoint="".concat(t,"/").concat(j.websocket),this.httpEndpoint=F(t),(null===i||void 0===i?void 0:i.transport)?this.transport=i.transport:this.transport=null,(null===i||void 0===i?void 0:i.params)&&(this.params=i.params),(null===i||void 0===i?void 0:i.timeout)&&(this.timeout=i.timeout),(null===i||void 0===i?void 0:i.logger)&&(this.logger=i.logger),((null===i||void 0===i?void 0:i.logLevel)||(null===i||void 0===i?void 0:i.log_level))&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),(null===i||void 0===i?void 0:i.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);var u=null===(o=null===i||void 0===i?void 0:i.params)||void 0===o?void 0:o.apikey;if(u&&(this.accessTokenValue=u,this.apiKey=u),this.reconnectAfterMs=(null===i||void 0===i?void 0:i.reconnectAfterMs)?i.reconnectAfterMs:function(e){return[1e3,2e3,5e3,1e4][e-1]||1e4},this.encode=(null===i||void 0===i?void 0:i.encode)?i.encode:function(e,t){return t(JSON.stringify(e))},this.decode=(null===i||void 0===i?void 0:i.decode)?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R((0,k.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.disconnect(),s.connect();case 2:case"end":return e.stop()}}),e)}))),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===i||void 0===i?void 0:i.fetch),null===i||void 0===i?void 0:i.worker){if(!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===i||void 0===i?void 0:i.worker)||!1,this.workerUrl=null===i||void 0===i?void 0:i.workerUrl}this.accessToken=(null===i||void 0===i?void 0:i.accessToken)||null}return(0,i.Z)(e,[{key:"connect",value:function(){if(!this.conn){if(this.transport||(this.transport=O),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}},{key:"endpointURL",value:function(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}},{key:"disconnect",value:function(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach((function(e){return e.teardown()})))}},{key:"getChannels",value:function(){return this.channels}},{key:"removeChannel",value:function(){var e=(0,k.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.unsubscribe();case 2:return r=e.sent,0===this.channels.length&&this.disconnect(),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeAllChannels",value:function(){var e=(0,k.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.channels.map((function(e){return e.unsubscribe()})));case 2:return t=e.sent,this.channels=[],this.disconnect(),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"log",value:function(e,t,r){this.logger(e,t,r)}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case x.connecting:return T.Connecting;case x.open:return T.Open;case x.closing:return T.Closing;default:return T.Closed}}},{key:"isConnected",value:function(){return this.connectionState()===T.Open}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r="realtime:".concat(e),n=this.getChannels().find((function(e){return e.topic===r}));if(n)return n;var i=new Y("realtime:".concat(e),t,this);return this.channels.push(i),i}},{key:"push",value:function(e){var t=this,r=e.topic,n=e.event,i=e.payload,o=e.ref,a=function(){t.encode(e,(function(e){var r;null===(r=t.conn)||void 0===r||r.send(e)}))};this.log("push","".concat(r," ").concat(n," (").concat(o,")"),i),this.isConnected()?a():this.sendBuffer.push(a)}},{key:"setAuth",value:function(){var e=(0,k.Z)(a().mark((function e(){var t,r,n=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:null,e.t1=t,e.t1){e.next=9;break}if(e.t2=this.accessToken,!e.t2){e.next=8;break}return e.next=7,this.accessToken();case 7:e.t2=e.sent;case 8:e.t1=e.t2;case 9:if(e.t0=e.t1,e.t0){e.next=12;break}e.t0=this.accessTokenValue;case 12:r=e.t0,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach((function(e){var t={access_token:r,version:A};r&&e.updateJoinPayload(t),e.joinedOnce&&e._isJoined()&&e._push(E.access_token,{access_token:r})})));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendHeartbeat",value:function(){var e=(0,k.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isConnected()){e.next=3;break}return this.heartbeatCallback("disconnected"),e.abrupt("return");case 3:if(!this.pendingHeartbeatRef){e.next=9;break}return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),null===(t=this.conn)||void 0===t||t.close(1e3,"hearbeat timeout"),e.abrupt("return");case 9:return this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),e.next=14,this.setAuth();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onHeartbeat",value:function(e){this.heartbeatCallback=e}},{key:"flushSendBuffer",value:function(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((function(e){return e()})),this.sendBuffer=[])}},{key:"_makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"_leaveOpenTopic",value:function(e){var t=this.channels.find((function(t){return t.topic===e&&(t._isJoined()||t._isJoining())}));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}},{key:"_remove",value:function(e){this.channels=this.channels.filter((function(t){return t.topic!==e.topic}))}},{key:"setupConnection",value:function(){var e=this;this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=function(){return e._onConnOpen()},this.conn.onerror=function(t){return e._onConnError(t)},this.conn.onmessage=function(t){return e._onConnMessage(t)},this.conn.onclose=function(t){return e._onConnClose(t)})}},{key:"_onConnMessage",value:function(e){var t=this;this.decode(e.data,(function(e){var r=e.topic,n=e.event,i=e.payload,o=e.ref;"phoenix"===r&&"phx_reply"===n&&t.heartbeatCallback("ok"==e.payload.status?"ok":"error"),o&&o===t.pendingHeartbeatRef&&(t.pendingHeartbeatRef=null),t.log("receive","".concat(i.status||""," ").concat(r," ").concat(n," ").concat(o&&"("+o+")"||""),i),Array.from(t.channels).filter((function(e){return e._isMember(r)})).forEach((function(e){return e._trigger(n,i,o)})),t.stateChangeCallbacks.message.forEach((function(t){return t(e)}))}))}},{key:"_onConnOpen",value:function(){this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach((function(e){return e()}))}},{key:"_startHeartbeat",value:function(){var e=this;this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((function(){return e.sendHeartbeat()}),this.heartbeatIntervalMs)}},{key:"_startWorkerHeartbeat",value:function(){var e=this;this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");var t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=function(t){e.log("worker","worker error",t.message),e.workerRef.terminate()},this.workerRef.onmessage=function(t){"keepAlive"===t.data.event&&e.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}},{key:"_onConnClose",value:function(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((function(t){return t(e)}))}},{key:"_onConnError",value:function(e){this.log("transport","".concat(e)),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((function(t){return t(e)}))}},{key:"_triggerChanError",value:function(){this.channels.forEach((function(e){return e._trigger(E.error)}))}},{key:"_appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}},{key:"_workerObjectUrl",value:function(e){var t;if(e)t=e;else{var r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}]),e}();function $(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var X=function(e){(0,s.Z)(r,e);var t=$(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).__isStorageError=!0,i.name="StorageError",i}return(0,i.Z)(r)}((0,h.Z)(Error));function ee(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var te=function(e){(0,s.Z)(r,e);var t=$(r);function r(e,i){var o;return(0,n.Z)(this,r),(o=t.call(this,e)).name="StorageApiError",o.status=i,o}return(0,i.Z)(r,[{key:"toJSON",value:function(){return{name:this.name,message:this.message,status:this.status}}}]),r}(X),re=function(e){(0,s.Z)(r,e);var t=$(r);function r(e,i){var o;return(0,n.Z)(this,r),(o=t.call(this,e)).name="StorageUnknownError",o.originalError=i,o}return(0,i.Z)(r)}(X),ne=r(27849),ie=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},oe=function(e){var t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,50548)).then((function(e){return e.default.apply(void 0,t)}))}:fetch),function(){return t.apply(void 0,arguments)}},ae=function e(t){if(Array.isArray(t))return t.map((function(t){return e(t)}));if("function"===typeof t||t!==Object(t))return t;var r={};return Object.entries(t).forEach((function(t){var n=(0,ne.Z)(t,2),i=n[0],o=n[1],a=i.replace(/([-_][a-z])/gi,(function(e){return e.toUpperCase().replace(/[-_]/g,"")}));r[a]=e(o)})),r},se=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},ue=function(e){return e.msg||e.message||e.error_description||e.error||JSON.stringify(e)},ce=function(e,t,n){return se(void 0,void 0,void 0,a().mark((function i(){var o;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ie(void 0,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof Response){e.next=4;break}return e.next=3,Promise.resolve().then(r.bind(r,50548));case 3:return e.abrupt("return",e.sent.Response);case 4:return e.abrupt("return",Response);case 5:case"end":return e.stop()}}),e)})));case 2:o=i.sent,e instanceof o&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then((function(r){t(new te(ue(r),e.status||500))})).catch((function(e){t(new re(ue(e),e))})):t(new re(ue(e),e));case 4:case"end":return i.stop()}}),i)})))},he=function(e,t,r,n){var i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function fe(e,t,r,n,i,o){return se(this,void 0,void 0,a().mark((function s(){return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise((function(a,s){e(r,he(t,n,i,o)).then((function(e){if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()})).then((function(e){return a(e)})).catch((function(e){return ce(e,s,n)}))})));case 1:case"end":return a.stop()}}),s)})))}function le(e,t,r,n){return se(this,void 0,void 0,a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",fe(e,"GET",t,r,n));case 1:case"end":return i.stop()}}),i)})))}function de(e,t,r,n,i){return se(this,void 0,void 0,a().mark((function o(){return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",fe(e,"POST",t,n,i,r));case 1:case"end":return o.stop()}}),o)})))}function pe(e,t,r,n,i){return se(this,void 0,void 0,a().mark((function o(){return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",fe(e,"PUT",t,n,i,r));case 1:case"end":return o.stop()}}),o)})))}function ve(e,t,r,n){return se(this,void 0,void 0,a().mark((function i(){return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",fe(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n));case 1:case"end":return i.stop()}}),i)})))}function ye(e,t,r,n,i){return se(this,void 0,void 0,a().mark((function o(){return a().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",fe(e,"DELETE",t,n,i,r));case 1:case"end":return o.stop()}}),o)})))}var ge=r(32333).Buffer,me=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},be={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},we={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ke=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;(0,n.Z)(this,e),this.url=t,this.headers=r,this.bucketId=i,this.fetch=oe(o)}return(0,i.Z)(e,[{key:"uploadOrUpdate",value:function(e,t,r,n){return me(this,void 0,void 0,a().mark((function i(){var o,s,u,c,h,f,l,d,p;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,s=Object.assign(Object.assign({},we),n),u=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)}),c=s.metadata,"undefined"!==typeof Blob&&r instanceof Blob?((o=new FormData).append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?((o=r).append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,u["cache-control"]="max-age=".concat(s.cacheControl),u["content-type"]=s.contentType,c&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),(null===n||void 0===n?void 0:n.headers)&&(u=Object.assign(Object.assign({},u),n.headers)),h=this._removeEmptyFolders(t),f=this._getFinalPath(h),i.next=10,this.fetch("".concat(this.url,"/object/").concat(f),Object.assign({method:e,body:o,headers:u},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{}));case 10:return l=i.sent,i.next=13,l.json();case 13:if(d=i.sent,!l.ok){i.next=18;break}return i.abrupt("return",{data:{path:h,id:d.Id,fullPath:d.Key},error:null});case 18:return p=d,i.abrupt("return",{data:null,error:p});case 20:i.next=27;break;case 22:if(i.prev=22,i.t0=i.catch(0),!ee(i.t0)){i.next=26;break}return i.abrupt("return",{data:null,error:i.t0});case 26:throw i.t0;case 27:case"end":return i.stop()}}),i,this,[[0,22]])})))}},{key:"upload",value:function(e,t,r){return me(this,void 0,void 0,a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("POST",e,t,r));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"uploadToSignedUrl",value:function(e,t,r,n){return me(this,void 0,void 0,a().mark((function i(){var o,s,u,c,h,f,l,d,p;return a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=this._removeEmptyFolders(e),s=this._getFinalPath(o),(u=new URL(this.url+"/object/upload/sign/".concat(s))).searchParams.set("token",t),i.prev=4,h=Object.assign({upsert:we.upsert},n),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)}),"undefined"!==typeof Blob&&r instanceof Blob?((c=new FormData).append("cacheControl",h.cacheControl),c.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(c=r).append("cacheControl",h.cacheControl):(c=r,f["cache-control"]="max-age=".concat(h.cacheControl),f["content-type"]=h.contentType),i.next=10,this.fetch(u.toString(),{method:"PUT",body:c,headers:f});case 10:return l=i.sent,i.next=13,l.json();case 13:if(d=i.sent,!l.ok){i.next=18;break}return i.abrupt("return",{data:{path:o,fullPath:d.Key},error:null});case 18:return p=d,i.abrupt("return",{data:null,error:p});case 20:i.next=27;break;case 22:if(i.prev=22,i.t0=i.catch(4),!ee(i.t0)){i.next=26;break}return i.abrupt("return",{data:null,error:i.t0});case 26:throw i.t0;case 27:case"end":return i.stop()}}),i,this,[[4,22]])})))}},{key:"createSignedUploadUrl",value:function(e,t){return me(this,void 0,void 0,a().mark((function r(){var n,i,o,s,u;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=this._getFinalPath(e),i=Object.assign({},this.headers),(null===t||void 0===t?void 0:t.upsert)&&(i["x-upsert"]="true"),r.next=6,de(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(n),{},{headers:i});case 6:if(o=r.sent,s=new URL(this.url+o.url),u=s.searchParams.get("token")){r.next=11;break}throw new X("No token returned by API");case 11:return r.abrupt("return",{data:{signedUrl:s.toString(),path:e,token:u},error:null});case 14:if(r.prev=14,r.t0=r.catch(0),!ee(r.t0)){r.next=18;break}return r.abrupt("return",{data:null,error:r.t0});case 18:throw r.t0;case 19:case"end":return r.stop()}}),r,this,[[0,14]])})))}},{key:"update",value:function(e,t,r){return me(this,void 0,void 0,a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.uploadOrUpdate("PUT",e,t,r));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"move",value:function(e,t,r){return me(this,void 0,void 0,a().mark((function n(){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,de(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers});case 3:return i=n.sent,n.abrupt("return",{data:i,error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!ee(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"copy",value:function(e,t,r){return me(this,void 0,void 0,a().mark((function n(){var i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,de(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers});case 3:return i=n.sent,n.abrupt("return",{data:{path:i.Key},error:null});case 7:if(n.prev=7,n.t0=n.catch(0),!ee(n.t0)){n.next=11;break}return n.abrupt("return",{data:null,error:n.t0});case 11:throw n.t0;case 12:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"createSignedUrl",value:function(e,t,r){return me(this,void 0,void 0,a().mark((function n(){var i,o,s,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=this._getFinalPath(e),n.next=4,de(this.fetch,"".concat(this.url,"/object/sign/").concat(i),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});case 4:return o=n.sent,s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"",u=encodeURI("".concat(this.url).concat(o.signedURL).concat(s)),o={signedUrl:u},n.abrupt("return",{data:o,error:null});case 11:if(n.prev=11,n.t0=n.catch(0),!ee(n.t0)){n.next=15;break}return n.abrupt("return",{data:null,error:n.t0});case 15:throw n.t0;case 16:case"end":return n.stop()}}),n,this,[[0,11]])})))}},{key:"createSignedUrls",value:function(e,t,r){return me(this,void 0,void 0,a().mark((function n(){var i,o,s=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,de(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers});case 3:return i=n.sent,o=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"",n.abrupt("return",{data:i.map((function(e){return Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(s.url).concat(e.signedURL).concat(o)):null})})),error:null});case 8:if(n.prev=8,n.t0=n.catch(0),!ee(n.t0)){n.next=12;break}return n.abrupt("return",{data:null,error:n.t0});case 12:throw n.t0;case 13:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"download",value:function(e,t){return me(this,void 0,void 0,a().mark((function r(){var n,i,o,s,u,c,h;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform),i=n?"render/image/authenticated":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),s=o?"?".concat(o):"",r.prev=4,u=this._getFinalPath(e),r.next=8,le(this.fetch,"".concat(this.url,"/").concat(i,"/").concat(u).concat(s),{headers:this.headers,noResolveJson:!0});case 8:return c=r.sent,r.next=11,c.blob();case 11:return h=r.sent,r.abrupt("return",{data:h,error:null});case 15:if(r.prev=15,r.t0=r.catch(4),!ee(r.t0)){r.next=19;break}return r.abrupt("return",{data:null,error:r.t0});case 19:throw r.t0;case 20:case"end":return r.stop()}}),r,this,[[4,15]])})))}},{key:"info",value:function(e){return me(this,void 0,void 0,a().mark((function t(){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._getFinalPath(e),t.prev=1,t.next=4,le(this.fetch,"".concat(this.url,"/object/info/").concat(r),{headers:this.headers});case 4:return n=t.sent,t.abrupt("return",{data:ae(n),error:null});case 8:if(t.prev=8,t.t0=t.catch(1),!ee(t.t0)){t.next=12;break}return t.abrupt("return",{data:null,error:t.t0});case 12:throw t.t0;case 13:case"end":return t.stop()}}),t,this,[[1,8]])})))}},{key:"exists",value:function(e){return me(this,void 0,void 0,a().mark((function t(){var r,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this._getFinalPath(e),t.prev=1,t.next=4,ve(this.fetch,"".concat(this.url,"/object/").concat(r),{headers:this.headers});case 4:return t.abrupt("return",{data:!0,error:null});case 7:if(t.prev=7,t.t0=t.catch(1),!(ee(t.t0)&&t.t0 instanceof re)){t.next=13;break}if(n=t.t0.originalError,![400,404].includes(null===n||void 0===n?void 0:n.status)){t.next=13;break}return t.abrupt("return",{data:!1,error:t.t0});case 13:throw t.t0;case 14:case"end":return t.stop()}}),t,this,[[1,7]])})))}},{key:"getPublicUrl",value:function(e,t){var r=this._getFinalPath(e),n=[],i=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==i&&n.push(i);var o="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",a=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==a&&n.push(a);var s=n.join("&");return""!==s&&(s="?".concat(s)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(o,"/public/").concat(r).concat(s))}}}},{key:"remove",value:function(e){return me(this,void 0,void 0,a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ye(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ee(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"list",value:function(e,t,r){return me(this,void 0,void 0,a().mark((function n(){var i,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=Object.assign(Object.assign(Object.assign({},be),t),{prefix:e||""}),n.next=4,de(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),i,{headers:this.headers},r);case 4:return o=n.sent,n.abrupt("return",{data:o,error:null});case 8:if(n.prev=8,n.t0=n.catch(0),!ee(n.t0)){n.next=12;break}return n.abrupt("return",{data:null,error:n.t0});case 12:throw n.t0;case 13:case"end":return n.stop()}}),n,this,[[0,8]])})))}},{key:"encodeMetadata",value:function(e){return JSON.stringify(e)}},{key:"toBase64",value:function(e){return"undefined"!==typeof ge?ge.from(e).toString("base64"):btoa(e)}},{key:"_getFinalPath",value:function(e){return"".concat(this.bucketId,"/").concat(e)}},{key:"_removeEmptyFolders",value:function(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}},{key:"transformOptsToQueryString",value:function(e){var t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}]),e}(),xe={"X-Client-Info":"storage-js/".concat("2.7.1")},_e=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},Ee=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;(0,n.Z)(this,e),this.url=t,this.headers=Object.assign(Object.assign({},xe),r),this.fetch=oe(i)}return(0,i.Z)(e,[{key:"listBuckets",value:function(){return _e(this,void 0,void 0,a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers});case 3:return t=e.sent,e.abrupt("return",{data:t,error:null});case 7:if(e.prev=7,e.t0=e.catch(0),!ee(e.t0)){e.next=11;break}return e.abrupt("return",{data:null,error:e.t0});case 11:throw e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,7]])})))}},{key:"getBucket",value:function(e){return _e(this,void 0,void 0,a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,le(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ee(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"createBucket",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return _e(this,void 0,void 0,a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,de(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n,error:null});case 7:if(r.prev=7,r.t0=r.catch(0),!ee(r.t0)){r.next=11;break}return r.abrupt("return",{data:null,error:r.t0});case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"updateBucket",value:function(e,t){return _e(this,void 0,void 0,a().mark((function r(){var n;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,pe(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});case 3:return n=r.sent,r.abrupt("return",{data:n,error:null});case 7:if(r.prev=7,r.t0=r.catch(0),!ee(r.t0)){r.next=11;break}return r.abrupt("return",{data:null,error:r.t0});case 11:throw r.t0;case 12:case"end":return r.stop()}}),r,this,[[0,7]])})))}},{key:"emptyBucket",value:function(e){return _e(this,void 0,void 0,a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,de(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ee(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"deleteBucket",value:function(e){return _e(this,void 0,void 0,a().mark((function t(){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ye(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers});case 3:return r=t.sent,t.abrupt("return",{data:r,error:null});case 7:if(t.prev=7,t.t0=t.catch(0),!ee(t.t0)){t.next=11;break}return t.abrupt("return",{data:null,error:t.t0});case 11:throw t.t0;case 12:case"end":return t.stop()}}),t,this,[[0,7]])})))}}]),e}();function je(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var Te=function(e){(0,s.Z)(r,e);var t=je(r);function r(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return(0,n.Z)(this,r),t.call(this,e,i,o)}return(0,i.Z)(r,[{key:"from",value:function(e){return new ke(this.url,this.headers,e,this.fetch)}}]),r}(Ee),Oe="";Oe="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";var Ae={headers:{"X-Client-Info":"supabase-js-".concat(Oe,"/").concat("2.50.2")}},Pe={schema:"public"},Se={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Re={},Ce=r(50548),Be=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},Ue=function(e){var t;return t=e||("undefined"===typeof fetch?Ce.default:fetch),function(){return t.apply(void 0,arguments)}},Ze=function(e,t,r){var n=Ue(r),i="undefined"===typeof Headers?Ce.Headers:Headers;return function(r,o){return Be(void 0,void 0,void 0,a().mark((function s(){var u,c,h;return a().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t();case 2:if(a.t1=u=a.sent,a.t0=null!==a.t1,!a.t0){a.next=6;break}a.t0=void 0!==u;case 6:if(!a.t0){a.next=10;break}a.t2=u,a.next=11;break;case 10:a.t2=e;case 11:return c=a.t2,(h=new i(null===o||void 0===o?void 0:o.headers)).has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization","Bearer ".concat(c)),a.abrupt("return",n(r,Object.assign(Object.assign({},o),{headers:h})));case 16:case"end":return a.stop()}}),s)})))}},Le=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))};r(3372);var Ie=r(47563).Z;r(29019);function Me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,u.Z)(this,r)}}var Ne=function(e){(0,s.Z)(r,e);var t=Me(r);function r(e){return(0,n.Z)(this,r),t.call(this,e)}return(0,i.Z)(r)}(Ie),De=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},qe=function(){function e(t,r,i){var o,s,u;if((0,n.Z)(this,e),this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");var c,h=(c=t).endsWith("/")?c:c+"/",f=new URL(h);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);var l="sb-".concat(f.hostname.split(".")[0],"-auth-token"),d=function(e,t){var r,n,i=this,o=e.db,s=e.auth,u=e.realtime,c=e.global,h=t.db,f=t.auth,l=t.realtime,d=t.global,p={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},f),s),realtime:Object.assign(Object.assign({},l),u),global:Object.assign(Object.assign(Object.assign({},d),c),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===c||void 0===c?void 0:c.headers)&&void 0!==n?n:{})}),accessToken:function(){return Le(i,void 0,void 0,a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)})))}};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}(null!==i&&void 0!==i?i:{},{db:Pe,realtime:Re,auth:Object.assign(Object.assign({},Se),{storageKey:l}),global:Ae});this.storageKey=null!==(o=d.auth.storageKey)&&void 0!==o?o:"",this.headers=null!==(s=d.global.headers)&&void 0!==s?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:function(e,t){throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(u=d.auth)&&void 0!==u?u:{},this.headers,d.global.fetch),this.fetch=Ze(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new w(new URL("rest/v1",f).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}return(0,i.Z)(e,[{key:"functions",get:function(){return new m(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}},{key:"storage",get:function(){return new Te(this.storageUrl.href,this.headers,this.fetch)}},{key:"from",value:function(e){return this.rest.from(e)}},{key:"schema",value:function(e){return this.rest.schema(e)}},{key:"rpc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}},{key:"channel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}},{key:"getChannels",value:function(){return this.realtime.getChannels()}},{key:"removeChannel",value:function(e){return this.realtime.removeChannel(e)}},{key:"removeAllChannels",value:function(){return this.realtime.removeAllChannels()}},{key:"_getAccessToken",value:function(){var e,t;return De(this,void 0,void 0,a().mark((function r(){var n,i;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.accessToken){r.next=4;break}return r.next=3,this.accessToken();case 3:return r.abrupt("return",r.sent);case 4:return r.next=6,this.auth.getSession();case 6:return n=r.sent,i=n.data,r.abrupt("return",null!==(t=null===(e=i.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null);case 9:case"end":return r.stop()}}),r,this)})))}},{key:"_initSupabaseAuthClient",value:function(e,t,r){var n=e.autoRefreshToken,i=e.persistSession,o=e.detectSessionInUrl,a=e.storage,s=e.storageKey,u=e.flowType,c=e.lock,h=e.debug,f={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Ne({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),t),storageKey:s,autoRefreshToken:n,persistSession:i,detectSessionInUrl:o,storage:a,flowType:u,lock:c,debug:h,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}},{key:"_initRealtimeClient",value:function(e){return new Q(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}},{key:"_listenForAuthEvents",value:function(){var e=this;return this.auth.onAuthStateChange((function(t,r){e._handleTokenChanged(t,"CLIENT",null===r||void 0===r?void 0:r.access_token)}))}},{key:"_handleTokenChanged",value:function(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}]),e}(),Fe=function(e,t,r){return new qe(e,t,r)}},32333:function(e){!function(){var t={675:function(e,t){"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=s(e),a=o[0],u=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,a,u)),h=0,f=u>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[h++]=t>>16&255,c[h++]=t>>8&255,c[h++]=255&t;2===u&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[h++]=255&t);1===u&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[h++]=t>>8&255,c[h++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function c(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(u(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|v(e,t),n=s(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);var i=function(e){if(u.isBuffer(e)){var t=0|p(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||H(e.length)?s(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return h(e),s(e<0?0:0|p(e))}function l(e){for(var t=e.length<0?0:0|p(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:D(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return S(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var h=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===u)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,l=0;l<u;l++)if(c(e,o+l)!==c(t,l)){f=!1;break}if(f)return o}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(H(s))return a;e[r+a]=s}return a}function k(e,t,r,n){return F(D(t,e.length-r),e,r,n)}function x(e,t,r,n){return F(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return x(e,t,r,n)}function E(e,t,r,n){return F(q(t),e,r,n)}function j(e,t,r,n){return F(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function T(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],h=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(h=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(h=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(h=u)}null===h?(h=65533,f=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=f}return P(n)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return h(e),e<=0?s(e):void 0!==t?"string"===typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(J(o,Uint8Array)&&(o=u.from(o)),!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?O(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(J(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),h=e.slice(t,r),f=0;f<s;++f)if(c[f]!==h[f]){o=c[f],a=h[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=z[e[o]];return i}function B(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function U(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Z(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function L(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function I(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,o){return t=+t,r>>>=0,o||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||Z(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||Z(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Z(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);Z(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Z(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:u.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var N=/[^+/0-9A-Za-z-_]/g;function D(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(N,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function F(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!==e}var z=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,h=-7,f=r?i-1:0,l=r?-1:1,d=e[t+f];for(f+=l,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+e[t+f],f+=l,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+e[t+f],f+=l,h-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,h=(1<<c)-1,f=h>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=h):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?l/u:l*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=h?(s=0,a=h):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*v}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var i=n(72);e.exports=i}()},83065:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return i}})},7965:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(75235),i=r(2028);function o(e,t,r){return o=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&(0,i.Z)(o,r.prototype),o},o.apply(null,arguments)}function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,(0,n.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(a,e)},a(e)}}}]);